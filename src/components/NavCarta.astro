---
import { productsData } from '../data/products.js';
const categories = Object.keys(productsData); // Get categories from the products data
---

<nav class="navbar">
  {categories.map((category) => (
    <button
      class="category-link"
      id={`category-${category}`}  
    >
      {category.charAt(0).toUpperCase() + category.slice(1)} 
    </button>
  ))}
</nav>

<script type="module">
  document.addEventListener('DOMContentLoaded', () => {
    const categoryButtons = document.querySelectorAll('.category-link');
    
    categoryButtons.forEach((button) => {
      button.addEventListener('click', () => {
        const category = button.textContent.toLowerCase();
        // Emit the custom event with the category as the detail
        const event = new CustomEvent('categorySelect', {
          detail: category,
        });
        document.dispatchEvent(event);
      });
    });
  });
</script>

<style>
  .navbar {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px 0;
  }

  .category-link {
    padding: 10px 20px;
    background-color: #f5f5f5;
    border: none;
    cursor: pointer;
    font-size: 16px;
  }

  .category-link:hover {
    background-color: #ddd;
  }
</style>
